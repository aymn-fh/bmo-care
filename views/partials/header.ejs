<header class="header">
    <div class="header-left">
        <button class="menu-toggle" id="menuToggle">
            <i class="fas fa-bars"></i>
        </button>
        <h1 class="page-title">
            <%= title %>
        </h1>
    </div>

    <div class="header-right">
        <!-- Theme Eraser -->
        <button class="theme-toggle" id="themeToggle" title="<%= __('toggleTheme') %>">
            <i class="fas fa-moon"></i>
        </button>

        <!-- Language Switcher -->
        <div class="lang-switcher">
            <a href="/lang/ar" class="lang-btn <%= currentLang === 'ar' ? 'active' : '' %>">
                <%= __('arabic') %>
            </a>
            <a href="/lang/en" class="lang-btn <%= currentLang === 'en' ? 'active' : '' %>">
                <%= __('english') %>
            </a>
        </div>

        <!-- Notifications -->
        <div class="user-menu" style="margin-inline-end: 1rem;">
            <button class="theme-toggle" id="notificationBtn" style="position: relative;">
                <i class="far fa-bell"></i>
                <span id="notificationBadge" class="badge-dot" style="display: none;">0</span>
            </button>
            <div class="user-dropdown" id="notificationDropdown"
                style="width: 320px; max-height: 400px; overflow-y: auto;">
                <div class="dropdown-header"
                    style="padding: 1rem; border-bottom: 1px solid var(--border-color); font-weight: bold;">
                    <%= __('notifications') %>
                </div>
                <div id="notificationList">
                    <div style="padding: 2rem; text-align: center; color: var(--text-secondary);">
                        <%= __('noNotifications') %>
                    </div>
                </div>
            </div>
        </div>

        <!-- User Menu -->
        <div class="user-menu">
            <button class="user-menu-btn" id="userMenuBtn">
                <div class="user-avatar-small">
                    <%= user ? user.name.charAt(0).toUpperCase() : 'U' %>
                </div>
                <span>
                    <%= user ? user.name : '' %>
                </span>
                <i class="fas fa-chevron-down"></i>
            </button>
            <div class="user-dropdown" id="userDropdown">
                <a href="/auth/logout" class="dropdown-item">
                    <i class="fas fa-sign-out-alt"></i>
                    <%= __('logout') %>
                </a>
            </div>
        </div>
    </div>
</header>